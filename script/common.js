globalThis.ForceBackend=!1,globalThis.DefaultLang="en",globalThis.i18nList=["en","zh","fr","de","it","jp"],globalThis.LangName={zh:"中文",en:"English",fr:"Français",de:"Deutsch",it:"Italiano",jp:"日本語"},globalThis.wait=e=>new Promise(r=>setTimeout(r,e)),globalThis.PoolWaitLock=class{#limit=1;#count=0;#pool=[];constructor(r=1){!isNumber(r)||r<1||(this.#limit=r)}start(){return this.#count++,new Promise(r=>{if(this.#count<=this.#limit)return r();this.#pool.push(r)})}finish(){this.#count--,0!==this.#pool.length&&this.#pool.shift()()}},globalThis.newID=(e=16)=>{var o=[];for(let r=0;r<e;r++){var t=Math.floor(36*Math.random()).toString(36);o.push(t)}return o.join("")},globalThis.parseValue=(r,e=!1)=>{if(isString(r)){var o=+r;if(!isNaN(o)&&""!==r)return o;o=r.toLowerCase();if(e){if(["true","ok","yes"].includes(o))return!0;if(["false","no","not"].includes(o))return!1}else{if(["true"].includes(o))return!0;if(["false"].includes(o))return!1}}return r},globalThis.readData=(r,e)=>0===(e=isString(e)?e.split(".").map(r=>r.trim()).filter(r=>!!r):e).length?r:1===e.length?r[e[0]]:(r=r[e.shift()],isObject(r)?readData(r,e):r),globalThis.writeData=(r,e,o)=>{var t,a;isObject(r)&&0!==(e=isString(e)?e.split(".").map(r=>r.trim()).filter(r=>!!r):e).length&&(1===e.length&&(r[e[0]]=o),void 0===(a=r[t=e.shift()])&&(r[t]=a={}),writeData(a,e,o))},globalThis.parseURL=e=>{if(e.match(/\/#[\w\W]*[\?\/]/)){let r=(e=e.replace(/\/#/,"/")).match(/[\w\d\-_]+=[\w\d\-_\.\/]+/gi);e=e.replace(/[#\?][\w\W]*$/,""),r&&((r=r.map(r=>r=r.split("="))).sort((r,e)=>r[0]>e[0]?1:r[0]<e[0]?-1:0),e=(e=e+"/"+(r=r.map(r=>r.join("/")).join("/"))).replace(/\/\/+/g,"/"))}else e=e.replace(/[#\?][\w\W]*$/,"");return e},globalThis.newEle=(r,...e)=>{var o=document.createElement(r);return e.forEach(r=>o.classList.add(r)),o},globalThis.calculateHash=async(r,e="SHA-256")=>{r=(new TextEncoder).encode(r),e=await crypto.subtle.digest(e,r);return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")},globalThis.calculateWordCount=r=>{var e,o,r=r.match(/(\p{L}+)/gu);return r?(o=e=0,r.forEach(r=>{r=(r=r.replace(/(\p{Script=Han}|\p{Script=Hiragana}|\p{Script=Katakana}|\p{Script=Hangul}|\p{Script=Thai}|\p{Script=Arabic})/gu,r=>(o+=r.length," "))).match(/(\p{L}+)/gu)||[];e+=r.length}),{total:e+o,latin:e,unlatin:o}):0},globalThis.logger={},logger.log=(r,...e)=>{console.log(`%c[${r}]`,"color: blue; font-weight: bolder; padding: 2px 5px; border-radius: 5px; background-color: rgb(250, 250, 250);",...e)},logger.info=(r,...e)=>{console.info(`%c[${r}]`,"color: green; font-weight: bolder; padding: 2px 5px; border-radius: 5px; background-color: rgb(250, 250, 250);",...e)},logger.warn=(r,...e)=>{console.warn(`%c[${r}]`,"color: magenta; font-weight: bolder; padding: 2px 5px; border-radius: 5px; background-color: rgb(250, 250, 250);",...e)},logger.error=(r,...e)=>{console.error(`%c[${r}]`,"color: red; font-weight: bolder; padding: 2px 5px; border-radius: 5px; background-color: rgb(250, 250, 250);",...e)},logger.em=(r,...e)=>{console.log(`%c[${r}]`,"background-color: blue; color: white; font-weight: bolder; padding: 2px 5px; border-radius: 5px; border: 1px solid white;",...e)},logger.strong=(r,...e)=>{console.log(`%c[${r}]`,"background-color: red; color: white; font-weight: bolder; padding: 2px 5px; border-radius: 5px; border: 1px solid white;",...e)},logger.blank=(r,...e)=>{console.log(`%c[${r}]`,"background-color: black; color: white; font-weight: bolder; padding: 2px 5px; border-radius: 5px; border: 1px solid white;",...e)},globalThis.AsyncFunction=async function(){}.__proto__,globalThis.isArray=r=>null!=r&&!!r.__proto__&&r.__proto__.constructor===Array,globalThis.isString=r=>null!=r&&!!r.__proto__&&r.__proto__.constructor===String,globalThis.isNumber=r=>null!=r&&!!r.__proto__&&r.__proto__.constructor===Number,globalThis.isBoolean=r=>null!=r&&!!r.__proto__&&r.__proto__.constructor===Boolean,globalThis.isObject=r=>null!=r&&!!r.__proto__&&r.__proto__.constructor===Object,globalThis.isFunction=r=>null!=r&&!!r.__proto__&&(r.__proto__.constructor===Function||r.__proto__.constructor===AsyncFunction),globalThis.isAsyncFunction=r=>null!=r&&!!r.__proto__&&r.__proto__.constructor===AsyncFunction;let WeekDayNames={enS:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],enL:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],zhM:["周日","周一","周二","周三","周四","周五","周六"],zhT:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},getLongString=(r,e=2,o=!0)=>{for(var t=r+"";t.length<e;)o?t="0"+t:t+="0";return t},getInfoStrings=(r,e)=>{var o,t;return"Y"===e?o=(t=r+"").substring(2):t="ms"===e?(o=r+"",getLongString(r,3,!1)):(o=r+"",getLongString(r)),[o,t]};globalThis.timestmp2str=(r,e)=>{isString(r)&&!isString(e)&&(e=r,r=null),isString(e)||(e="YYYY/MM/DD hh:mm:ss"),r=r||new Date,isNumber(r)&&(r=new Date(r));var[o,t]=getInfoStrings(r.getYear()+1900,"Y"),[a,n]=getInfoStrings(r.getMonth()+1,"M"),[l,i]=getInfoStrings(r.getDate(),"D"),[g,s]=getInfoStrings(r.getHours(),"h"),[c,p]=getInfoStrings(r.getMinutes(),"m"),[h,u]=getInfoStrings(r.getSeconds(),"s"),[d,b]=getInfoStrings(r.getMilliseconds(),"ms"),_=WeekDayNames.enS[r.getDay()],m=WeekDayNames.enL[r.getDay()],f=WeekDayNames.zhM[r.getDay()],r=WeekDayNames.zhT[r.getDay()];return e.match(/YYYY+/)?e=e.replace(/YYYY+/g,t):e.match(/Y+/)&&(e=e.replace(/Y+/g,o)),e.match(/MM+/)?e=e.replace(/MM+/g,n):e.match(/M+/)&&(e=e.replace(/M+/g,a)),e.match(/DD+/)?e=e.replace(/DD+/g,i):e.match(/D+/)&&(e=e.replace(/D+/g,l)),e.match(/hh+/)?e=e.replace(/hh+/g,s):e.match(/h+/)&&(e=e.replace(/h+/g,g)),e.match(/mm+/)?e=e.replace(/mm+/g,p):e.match(/m+/)&&(e=e.replace(/m+/g,c)),e.match(/ss+/)?e=e.replace(/ss+/g,u):e.match(/s+/)&&(e=e.replace(/s+/g,h)),e.match(/xxx+/)?e=e.replace(/xxx+/g,b):e.match(/x+/)&&(e=e.replace(/x+/g,d)),e=(e=(e=(e=e.replace(/:wde:/g,_)).replace(/:WDE:/g,m)).replace(/:wdz:/g,f)).replace(/:WDZ:/g,r)};