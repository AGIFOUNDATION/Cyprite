let AnimationDuration=500,AvailableTypes=["message","success","fail","warn","error","fetal"],AvailablePositions=["leftBottom","leftCenter","leftTop","middleBottom","middleCenter","middleTop","rightBottom","rightCenter","rightTop"],newNotification=(e,o,i=3e3,n,t)=>{var s,a,r,l,d,c,h;if(e||o)return AvailableTypes.includes(n)||(n=AvailableTypes[0]),AvailablePositions.includes(t)||(t=AvailablePositions[0]),r=i,l=()=>{var e;c._closed||s&&(clearTimeout(s),e=Date.now(),r-=e-a)},d=()=>{c._closed||(s&&clearTimeout(s),r<=0&&(r=0),a=Date.now(),s=setTimeout(c._hide,r))},(c=newEle("div","extension_component","notification",n,t))._type=n,c._positon=t,c._closed=!1,c.onready=null,c.onshow=null,c.onhide=null,c.onclose=null,c._onready=null,c._onshow=null,c._onhide=null,c._onclose=null,c._show=async()=>{await wait(50),c._onready&&c._onready(),c.onready&&c.onready(),c.classList.add("show"),await wait(AnimationDuration),c._onshow&&c._onshow(),c.onshow&&c.onshow(),d()},c._hide=async()=>{c._closed||(c._closed=!0,s&&(clearTimeout(s),s=null),c.classList.remove("show"),c._onhide&&c._onhide(),c.onhide&&c.onhide(),await wait(AnimationDuration),c.removeEventListener("mouseenter",l),c.removeEventListener("mousemove",l),c.removeEventListener("mouseout",d),h.removeEventListener("click",c._hide),c._onclose&&c._onclose(),c.onclose&&c.onclose())},c.addEventListener("mouseenter",l),c.addEventListener("mousemove",l),c.addEventListener("mouseout",d),i=newEle("div","notification_frame"),c.appendChild(i),c._frame=i,n=newEle("div","notification_inner"),i.appendChild(n),c._inner=n,e&&((t=newEle("div","notification_title")).innerText=e,n.appendChild(t)),o&&(i=newEle("div","notification_message"),o.match(/<\/[\w\-]+>/)?i.innerHTML=o:i.innerText=o,n.appendChild(i)),(h=newEle("div","notification_close")).innerHTML='<img src="'+chrome.runtime.getURL("/images/xmark.svg")+'">',h.addEventListener("click",c._hide),n.appendChild(h),c._getTimeLeft=()=>r,window.currentNotify=c},MessageList={},topPositionUpdater=(AvailablePositions.forEach(e=>MessageList[e]=[]),async e=>{var o=0;e.forEach(e=>{o+=e.height+5}),e.forEach(e=>{o-=e.height+5,e.ele._inner.style.top=o+"px"})}),bottomPositionUpdater=async e=>{var o=0;e.forEach(e=>{o+=e.height+5}),e.forEach(e=>{o-=e.height+5,e.ele._inner.style.bottom=o+"px"})},centerPositionUpdater=async e=>{var o=0;e.forEach(e=>{o+=e.height+5}),o/=2,e.forEach(e=>{o-=e.height+5,e.ele._inner.style.top=o+"px"})};globalThis.Notification={},Notification.init=(e=!0)=>{var o="/components/notification.css",e=(e&&(o=chrome.runtime.getURL(o)),newEle("link"));e.rel="stylesheet",e.href=o,document.head.appendChild(e)},Notification.show=(e,o,i,n,t)=>{var s;if(document.body)return(s=newNotification(e,o,t,n,i))._onready=()=>{var e=s.getBoundingClientRect(),o=MessageList[s._positon];o.push({ele:s,width:e.width,height:e.height}),0<s._positon.indexOf("Top")?topPositionUpdater(o):0<s._positon.indexOf("Bottom")?bottomPositionUpdater(o):0<s._positon.indexOf("Center")&&centerPositionUpdater(o)},s._onhide=()=>{var e=MessageList[s._positon],i=-1;e.some((e,o)=>{if(e.ele===s)return i=o,!0}),i<0||(e.splice(i,1),0<s._positon.indexOf("Top")?topPositionUpdater(e):0<s._positon.indexOf("Bottom")?bottomPositionUpdater(e):0<s._positon.indexOf("Center")&&centerPositionUpdater(e))},s._onclose=()=>{document.body.removeChild(s)},document.body.appendChild(s),s._show(),s};